<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Products</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <main class="w-[50%] flex-col justify-center gap-3 my-2 mx-auto">
      <header class="flex justify-between items-center">
        <h1 class="text-2xl font-bold my-4">All Products</h1>

        <!-- filter By Category -->
        <form method="GET" action="/products" class="inline">
          <select
            name="category"
            id="category"
            class="ml-3 p-2 border-2 rounded-md focus:outline-blue-400 hover:cursor-pointer"
            onchange="this.form.submit()"
          >
            <option value="" disabled selected>Filter By Category</option>
            <option value="all">All</option>
            <% for(let cat of categories) { %>
            <option value="<%=cat%>"><%=cat.toUpperCase()%></option>
            <% }%>
          </select>
        </form>
      </header>
      <ul>
        <% for(let product of products) { %>
        <li
          class="p-3 mb-4 text-blue-700 shadow-md hover:underline bg-stone-100"
        >
          <a href="/products/<%= product._id%>"> <%= product.name %> </a>
        </li>
        <% }%>
      </ul>
      <a
        href="/products/new"
        class="mt-6 py-2 px-4 bg-orange-500 rounded-md hover:bg-orange-600 text-gray-100"
        >Add New Product</a
      >
    </main>
  </body>
</html>
